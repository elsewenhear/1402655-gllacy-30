const feedbackLink=document.querySelector(".feedback-link"),modalFeedback=document.querySelector(".modal-feedback"),modalForm=modalFeedback.querySelector(".feedback-form"),buttonClose=modalFeedback.querySelector(".button-close"),modalLogin=modalFeedback.querySelector("[name=feedback-name]"),modalEmail=modalFeedback.querySelector("[name=feedback-email]"),modalText=modalFeedback.querySelector("[name=feedback-text]"),overlay=document.querySelector(".overlay"),buttonOne=document.querySelector(".button-1"),buttonTwo=document.querySelector(".button-2"),buttonThree=document.querySelector(".button-3"),background=document.querySelector(".page-body"),slideOne=document.querySelector(".slide-1"),slideTwo=document.querySelector(".slide-2"),slideThree=document.querySelector(".slide-3");let isStorageSupport=!0,storageLogin="",storageEmail="";try{storageLogin=localStorage.getItem("login"),storageEmail=localStorage.getItem("email")}catch(e){isStorageSupport=!1}feedbackLink.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.add("modal-show"),modalLogin.focus(),overlay.classList.add("overlay-show"),storageLogin&&storageEmail?(modalLogin.value=storageLogin,modalEmail.value=storageEmail,modalText.focus()):modalLogin.focus()}),buttonClose.addEventListener("click",function(e){e.preventDefault(),modalFeedback.classList.remove("modal-show"),overlay.classList.remove("overlay-show"),modalFeedback.classList.remove("modal-error")}),modalForm.addEventListener("submit",function(e){modalLogin.value&&modalEmail.value&&modalText.value?isStorageSupport&&(localStorage.setItem("login",modalLogin.value),localStorage.setItem("email",modalEmail.value)):(e.preventDefault(),modalFeedback.classList.remove("modal-error"),modalFeedback.offsetWidth=modalFeedback.offsetWidth,modalFeedback.classList.add("modal-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&modalFeedback.classList.contains("modal-show")&&(e.preventDefault(),modalFeedback.classList.remove("modal-show"),overlay.classList.remove("overlay-show"),modalFeedback.classList.remove("modal-error"))}),buttonOne.addEventListener("click",function(e){buttonOne.classList.contains("current")?e.preventDefault():(buttonOne.classList.add("current"),background.classList.add("bg-1"),slideOne.classList.add("current-slide"),buttonTwo.classList.remove("current"),background.classList.remove("bg-2"),slideTwo.classList.remove("current-slide"),buttonThree.classList.remove("current"),background.classList.remove("bg-3"),slideThree.classList.remove("current-slide"))}),buttonTwo.addEventListener("click",function(e){buttonTwo.classList.contains("current")?e.preventDefault():(buttonTwo.classList.add("current"),background.classList.add("bg-2"),slideTwo.classList.add("current-slide"),buttonOne.classList.remove("current"),background.classList.remove("bg-1"),slideOne.classList.remove("current-slide"),buttonThree.classList.remove("current"),background.classList.remove("bg-3"),slideThree.classList.remove("current-slide"))}),buttonThree.addEventListener("click",function(e){buttonThree.classList.contains("current")?e.preventDefault():(buttonThree.classList.add("current"),background.classList.add("bg-3"),slideThree.classList.add("current-slide"),buttonOne.classList.remove("current"),background.classList.remove("bg-1"),slideOne.classList.remove("current-slide"),buttonTwo.classList.remove("current"),background.classList.remove("bg-2"),slideTwo.classList.remove("current-slide"))});